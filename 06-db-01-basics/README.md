# Домашнее задание к занятию "6.1. Типы и структура СУБД"

## Введение

Перед выполнением задания вы можете ознакомиться с 
[дополнительными материалами](https://github.com/netology-code/virt-homeworks/tree/master/additional/README.md).

## Задача 1

Архитектор ПО решил проконсультироваться у вас, какой тип БД 
лучше выбрать для хранения определенных данных.

Он вам предоставил следующие типы сущностей, которые нужно будет хранить в БД:

- Электронные чеки в json виде
```html
Лучше подойдет документо-ориентированная БД. 
Считается одним из классических примеров NoSQL-систем, использует JSON-подобные документы и схему базы данных.
```
- Склады и автомобильные дороги для логистической компании
```html
Графовая или сетевая. Преимущество графовой - модель построения БД может меняться и модифицироваться
в процессе развития приложения без изменения архитектуры и исходных запросов. Преимущество сетевой -
сохраняется целостность данных, т.к. всегда есть связь между родителем и потомком, более высокая эффективность и производительность.
```
- Генеалогические деревья
```html
Сетевая БД, т.к. в отличие от иерархической , сетевой узел может иметь отношения с несколькими объектами
```
- Кэш идентификаторов клиентов с ограниченным временем жизни для движка аутенфикации
```html
Система "ключ-значение"
```
- Отношения клиент-покупка для интернет-магазина
```html
Реляционная БД с таблицами с информацией о покупателях, товарах, заказах и т.д.
```

Выберите подходящие типы СУБД для каждой сущности и объясните свой выбор.

## Задача 2

Вы создали распределенное высоконагруженное приложение и хотите классифицировать его согласно 
CAP-теореме. Какой классификации по CAP-теореме соответствует ваша система, если 
(каждый пункт - это отдельная реализация вашей системы и для каждого пункта надо привести классификацию):

- Данные записываются на все узлы с задержкой до часа (асинхронная запись)
```html
AP - гарантирует доступность и устойчивость к разделению, не гарантируя согласованность данных
```
- При сетевых сбоях, система может разделиться на 2 раздельных кластера
```html
СА - данные во всех узлах кластера согласованы и доступны, но не устойчивы к разделению
```
- Система может не прислать корректный ответ или сбросить соединение
```html
CP- обеспечивает целостность данных и способна работать в условиях распада, в ущерб доступности.
```
А согласно PACELC-теореме, как бы вы классифицировали данные реализации?
```html
1. PA/EL - высокая доступность (A) при разделении (P) системы иначе (E) высокая скорость ответа (L).
2. PA/EC - В случае разделения – (P)artitioning, сконфигурированная таким образом система не даст консистентности, 
но предоставит (A)valability, а в (E)lse и строгую (С)onsistency.
3. PC/EC - системы будут жертвовать доступностью (A) в угоду консистентности (С), используя огораживание
(fencing) при разделении (P) в распределённых системах
```
## Задача 3

Могут ли в одной системе сочетаться принципы BASE и ACID? Почему?
```html
Не могут. По BASE согласованность данных не должна обрабатываться БД. Единственное требование 
- чтобы в какой-то момент в будущем данные конвергировались в согласованное состояние. Однако 
никаких гарантий относительно того, когда это произойдет, не дается. Это полное отклонение от 
требования немедленной согласованности ACID, которое запрещает выполнение транзакции до тех пор, 
пока предыдущая транзакция не будет завершена и база данных не приблизится к согласованному состоянию.
```
## Задача 4

Вам дали задачу написать системное решение, основой которого бы послужили:

- фиксация некоторых значений с временем жизни
- реакция на истечение таймаута

Вы слышали о key-value хранилище, которое имеет механизм [Pub/Sub](https://habr.com/ru/post/278237/). 
Что это за система? Какие минусы выбора данной системы?
```html
Redis – это быстрое хранилище данных типа «ключ‑значение» в памяти с открытым исходным кодом.
- Размер БД ограничен доступной памятью.
- NoSQL
- Нет сегментации на пользователей или группы пользователей, отсутствует контроль доступа. Доступ по общему паролю.

```
---

### Как cдавать задание

Выполненное домашнее задание пришлите ссылкой на .md-файл в вашем репозитории.

---
